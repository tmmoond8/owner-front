{"version":3,"sources":["components/Profile/ProfileContainer.tsx"],"names":["tabs","id","display","observer","userCode","React","useState","targetUser","setTargetUser","articles","setArticles","comments","setComments","user","useStore","tabIndex","setTabIndex","handleClickTab","useCallback","tab","findIndex","window","__OWNER__","CAROUSEL","PROFILE","useEffect","a","userPromise","APIS","get","articlePromise","article","getUserArticles","commentPromise","comment","getUserComments","userData","data","ok","articleData","commentData","userComments","Fragment","Container","StyledProfile","map","index","key","handleClick","selected","StyledCarousel","onChangeIndex","bookmarks","styled","div","Profile","Carousel"],"mappings":"2oBAgBA,IAAMA,EAAO,CACX,CAAEC,GAAI,UAAWC,QAAS,sBAC1B,CAAED,GAAI,UAAWC,QAAS,iBA+DbC,uBA5DyC,SAAC,GAAgC,IAAD,IAA7BC,gBAA6B,MAAlB,YAAkB,IAClDC,IAAMC,SAAqB,MADuB,mBAC/EC,EAD+E,KACnEC,EADmE,OAErDH,IAAMC,SAAoB,IAF2B,mBAE9EG,EAF8E,KAEpEC,EAFoE,OAGrDL,IAAMC,SAAoB,IAH2B,mBAG9EK,EAH8E,KAGpEC,EAHoE,KAI9EC,EAASC,cAATD,KAJ8E,EAKtDR,IAAMC,SAAS,GALuC,mBAK/ES,EAL+E,KAKrEC,EALqE,KAMhFC,EAAiBZ,IAAMa,aAAY,SAACC,GACxC,IAAMJ,EAAWf,EAAKoB,WAAU,qBAAGnB,KAAgBkB,EAAIlB,MACtDoB,OAAeC,UAAUC,IAASC,SAAST,GAC5CC,EAAYhB,EAAKoB,WAAU,qBAAGnB,KAAgBkB,EAAIlB,SACjD,IAuBH,OArBAI,IAAMoB,WAAU,WACd,sBAAC,4CAAAC,EAAA,6DACOC,EAAcC,IAAKf,KAAKgB,IAAIzB,GAC5B0B,EAAiBF,IAAKG,QAAQC,gBAAgB5B,GAC9C6B,EAAiBL,IAAKM,QAAQC,gBAAgB/B,GAHrD,SAIkCuB,EAJlC,wBAIeS,EAJf,EAISC,MACKC,IACX9B,EAAc4B,EAASvB,MAN1B,UAQqCiB,EARrC,yBAQeS,EARf,EAQSF,MACQC,IACd5B,EAAY6B,EAAY9B,UAV3B,UAYqCwB,EAZrC,kBAYeO,EAZf,EAYSH,MACQC,IACd1B,EAAY4B,EAAYC,cAd3B,2CAAD,KAiBC,CAACrC,IAIF,cAAC,IAAMsC,SAAP,KACGnC,GAAc,cAACoC,EAAD,KACb,cAACC,EAAkBrC,GACnB,cAAC,IAAD,KACGP,EAAK6C,KAAI,SAAC1B,EAAK2B,GAAN,OACR,cAAC,IAAD,CAASC,IAAK5B,EAAIlB,GAAI+C,YAAa,kBAAM/B,EAAeE,IAAM8B,SAAUH,IAAU/B,GAC/EI,EAAIjB,aAIX,cAACgD,EAAD,CACEjD,GAAIsB,IAASC,QACbsB,MAAO/B,EACPoC,cAAenC,GAEf,cAAC,IAAD,CACEP,SAAUA,EACV2C,UAAWvC,EAAKuC,YAElB,cAAC,IAAD,CAAazC,SAAUA,UASjC,IAAMgC,EAAYU,IAAOC,IAAV,KAMTV,EAAgBS,YAAOE,IAAPF,CAAH,KAKbH,EAAiBG,YAAOG,IAAPH,CAAH","file":"static/js/40.9c855d94.chunk.js","sourcesContent":["/** @jsx jsx */\nimport { jsx } from '@emotion/core';\nimport styled from '@emotion/styled';\nimport React from 'react';\nimport Profile from './Profile';\nimport APIS from '../../apis';\nimport ArticleList from '../ArticleList';\nimport CommentList from '../ProfileCommentList';\nimport Article from '../../types/Article';\nimport Comment from '../../types/Comment';\nimport { Profile as ProfileType } from '../../types/User';\nimport Carousel from '../Carousel';\nimport { Tabs, TabItem } from '../Tabs';\nimport { CAROUSEL } from '../../types/constants';\nimport { useStore, observer } from '../../stores';\n\nconst tabs = [ \n  { id: 'article', display: '게시글' }, \n  { id: 'comment', display: '댓글' }, \n];\n\nconst ProfileContainer: React.FC<{ userCode: string}> = ({ userCode = \"phupdv3yb\" }) => {\n  const [targetUser, setTargetUser] = React.useState<any | null>(null);\n  const [ articles, setArticles] = React.useState<Article[]>([]);\n  const [ comments, setComments] = React.useState<Comment[]>([]);\n  const { user } = useStore();\n  const [tabIndex, setTabIndex] = React.useState(0);\n  const handleClickTab = React.useCallback((tab) => {\n    const tabIndex = tabs.findIndex(({ id }) => id === tab.id);\n    (window as any).__OWNER__[CAROUSEL.PROFILE](tabIndex);\n    setTabIndex(tabs.findIndex(({ id }) => id === tab.id));\n  }, [])\n\n  React.useEffect(() => {\n    (async () => {\n      const userPromise = APIS.user.get(userCode);\n      const articlePromise = APIS.article.getUserArticles(userCode);\n      const commentPromise = APIS.comment.getUserComments(userCode);\n      const { data: userData } = await userPromise;\n      if (userData.ok) {\n        setTargetUser(userData.user);\n      }\n      const { data: articleData } = await articlePromise;\n      if (articleData.ok) {\n        setArticles(articleData.articles);\n      }\n      const { data: commentData } = await commentPromise;\n      if (commentData.ok) {\n        setComments(commentData.userComments);\n      }\n    })();\n  }, [userCode])\n\n\n  return (\n    <React.Fragment>\n      {targetUser && <Container>\n        <StyledProfile {...targetUser}/>\n        <Tabs>\n          {tabs.map((tab, index) => (\n            <TabItem key={tab.id} handleClick={() => handleClickTab(tab)} selected={index === tabIndex}>\n              {tab.display}\n            </TabItem>)\n          )}\n        </Tabs>\n        <StyledCarousel\n          id={CAROUSEL.PROFILE}\n          index={tabIndex}\n          onChangeIndex={setTabIndex}\n        >\n          <ArticleList\n            articles={articles}\n            bookmarks={user.bookmarks}\n          />\n          <CommentList comments={comments}/>\n        </StyledCarousel>\n      </Container>}\n    </React.Fragment>\n  )\n}\n\nexport default observer(ProfileContainer);\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n`;\n\nconst StyledProfile = styled(Profile)`\n  height: fit-content;\n  padding: 14px 18px;\n`;\n\nconst StyledCarousel = styled(Carousel)`\n  flex: 1;\n\n  .UserProfilePhoto {\n    pointer-events: none;\n  }\n`;"],"sourceRoot":""}